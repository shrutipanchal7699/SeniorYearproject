{"ast":null,"code":"var _jsxFileName = \"/Users/param/Desktop/marketplace/final/frontend/src/screens/ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, Route } from 'react-router-dom'; // import Product from '../components/Product.js';\n\nimport { detailsProduct } from '../actions/productActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport CartScreen from './CartScreen';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductScreen(props) {\n  _s();\n\n  //loading product details from redux store.js\n  const dispatch = useDispatch();\n  const product_id = props.match.params.id;\n  const [quantity, setQuantity] = useState(1);\n  const [location, setLocation] = useState('');\n  const productDetails = useSelector(state => state.productDetails);\n  const {\n    loading,\n    error,\n    product\n  } = productDetails;\n  const cart = useSelector(state => state.cart);\n  const {\n    itemsInCart\n  } = cart; //won't show products from the static file in the frontend, \n  // const product = data.products.find(x => x._id === props.match.params.id);\n\n  useEffect(() => {\n    dispatch(detailsProduct(product_id));\n  }, [dispatch, product_id]); //defining the addToCartHandler\n\n  const addToCartHandler = () => {\n    props.history.push(`/cart/${product_id} ? quantity=${quantity}`); //  props.history.push(`/cart/${product_id} ? location=${product_id}`);\n  }; // if and else were the other way around earlier.\n\n\n  if (product) {\n    //return <div> Could not find the product you requested. </div>\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Back to HomeScreen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row top\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-2\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"large\",\n              src: product.image,\n              alt: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-1\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 32\n                }, this), \"  $\", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Nutritional Facts: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: product.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Location Origin: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 33\n                }, this), \" \", product.location]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"price\",\n                      children: [\"$ \", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"success\",\n                        children: \" In Stock\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 49\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"danger\",\n                        children: \"Unavailable\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 33\n                }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: \"Quantity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 41\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"select\", {\n                          value: quantity,\n                          onChange: e => setQuantity(e.target.value),\n                          children: // returning an array from 0 to that number in stock\n                          [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: x + 1,\n                            children: x + 1\n                          }, x + 1, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 125,\n                            columnNumber: 57\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 121,\n                          columnNumber: 45\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 41\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: addToCartHandler,\n                      className: \"primary block\",\n                      children: \" Add to Cart\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Shopping Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: itemsInCart.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: item.image,\n                        alt: item.name,\n                        className: \"MoreSmall\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 33\n                      }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n                          to: `/product/${item.product}`,\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 157,\n                          columnNumber: 42\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"Quantity: \", item.quantity, /*#__PURE__*/_jsxDEV(\"select\", {\n                        value: item.quantity,\n                        onChange: e => {\n                          dispatch(addToCart(item.product, Number(e.target.value)));\n                        },\n                        children: // returning an array from 0 to that number in stock\n                        [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: x + 1,\n                          children: x + 1\n                        }, x + 1, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 172,\n                          columnNumber: 45\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\"$\", item.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 25\n                  }, this)\n                }, item.product, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \" Could not find the product you requested. \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductScreen, \"MGhmGH8DZd1lYqL+GdBRomw4RIQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["/Users/param/Desktop/marketplace/final/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","Link","Route","detailsProduct","useDispatch","useSelector","LoadingBox","MessageBox","CartScreen","addToCart","removeFromCart","ProductScreen","props","dispatch","product_id","match","params","id","quantity","setQuantity","location","setLocation","productDetails","state","loading","error","product","cart","itemsInCart","addToCartHandler","history","push","image","name","price","description","countInStock","e","target","value","Array","keys","map","x","item","Number"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, Route } from 'react-router-dom';\n// import Product from '../components/Product.js';\nimport { detailsProduct} from '../actions/productActions';\nimport {useDispatch, useSelector} from 'react-redux';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport CartScreen from './CartScreen';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\n\n\nexport default function ProductScreen(props) {\n    //loading product details from redux store.js\n    const dispatch = useDispatch();\n    const product_id = props.match.params.id;\n\n    const [quantity, setQuantity] = useState(1);\n    const [location, setLocation] = useState('');\n    const productDetails = useSelector( state => state.productDetails);\n    const { loading, error, product} = productDetails;\n\n    const cart = useSelector(state => state.cart);\n    const {itemsInCart} = cart;\n    \n    \n    //won't show products from the static file in the frontend, \n   // const product = data.products.find(x => x._id === props.match.params.id);\n    \n   useEffect(() =>{\n       dispatch(detailsProduct(product_id));\n   }, [dispatch, product_id]);\n   \n   //defining the addToCartHandler\n   const addToCartHandler = () =>{\n        props.history.push(`/cart/${product_id} ? quantity=${quantity}`);\n     //  props.history.push(`/cart/${product_id} ? location=${product_id}`);\n       \n   };\n      \n    // if and else were the other way around earlier.\n    if(product){\n        //return <div> Could not find the product you requested. </div>\n        \n        return(\n        <div>\n            { loading ? (\n                <LoadingBox></LoadingBox>\n            ) : error? (\n                <MessageBox variant=\"danger\">{error}</MessageBox>\n            ) : (\n                <div>\n                <Link to=\"/\">Back to HomeScreen</Link>\n                <br></br>\n                <p></p>\n                <div className=\"row top\"> \n                <br></br>\n                {/* <li></li> */}\n                <p></p>\n                    <div className = \"col-2\">\n                        <img className = \"large\" src={product.image} alt = {product.name}></img>\n                    </div>\n                    <div className=\"col-1\">\n                        <ul>\n                            <li>\n                                <h1>{product.name}</h1>\n                            </li>\n                            <li>\n                               <b> Price:</b>  ${product.price}\n                            </li>\n                            <li>\n                                <b>Nutritional Facts: </b>\n                                <p>\n                                    {product.description}\n                                </p>\n                            </li>\n                            <li>\n                                <b>Location Origin: </b> {product.location}                               \n                            </li>\n                            <li>\n                            {/* <b>Locations: </b> */}\n                                <p>\n                                    {/* {product.product_id[0].location }  */}\n                                    <li>\n                                    {/* <button onClick ={addToCartHandler}className=\"primary block\"> Add to Cart</button> */}\n                                    </li>\n                                </p>\n                                {/* <p>{product.product_id[1].location }</p> */}\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"col-1\">\n                        <div className=\"card card-body\">\n                            <ul>\n                                <li>\n                                    <div className=\"row\">\n                                        <div>Price</div>\n                                        <div className=\"price\">$ {product.price}</div>\n                                    </div>\n                                </li>\n                                <li>\n                                    <div className=\"row\">\n                                        <div>Status</div>\n                                        <div>\n                                            {product.countInStock > 0 ? (\n                                                <span className=\"success\"> In Stock</span>\n                                            ) : (\n                                                <span className=\"danger\">Unavailable</span>\n                                            )}\n                                        </div>\n                                    </div>\n                                </li>\n                                {\n                                    product.countInStock > 0 && (\n                                <>\n                                <li>\n                                    <div className=\"row\">\n                                        <div>\n                                           Quantity \n                                        </div>\n                                        <div>\n                                            <select value={quantity} onChange={e => setQuantity(e.target.value)}>\n                                                {\n                                                    // returning an array from 0 to that number in stock\n                                                    [...Array(product.countInStock).keys()].map( (x) =>(\n                                                        <option key={x+1} value={ x + 1}>{x + 1}</option>\n                                                    ))\n                                                }\n                                            </select>\n                                        </div>\n                                    </div>                 \n                                </li>     \n                                <li>                            \n                                \n                                    <button onClick ={addToCartHandler}className=\"primary block\"> Add to Cart</button>\n                                </li> \n                                </>                                 \n                                    )\n                                }\n                                                          \n                            </ul>\n                        </div>\n\n                    </div>\n                    {/* to show what is already in the cart on the right side of the screen */}\n                    <div className=\"col-1\">\n                        <div className=\"card card-body\">\n                            {/* <Route path=\"/cart/:id?\" component={CartScreen}></Route> */}\n                        <h2>Shopping Cart</h2>\n                        <ul>\n                        {itemsInCart.map((item) => \n                        <li key = {item.product}> \n                        <div className=\"row\">\n                            <div>\n                                <img src={item.image} alt = {item.name} className=\"MoreSmall\"></img>\n                                &nbsp;\n                                {/* <div className=\"min-30\"><Link to={`/product/${item.product}`}>{item.name}</Link></div> */}\n                                <b>&nbsp;<Link to={`/product/${item.product}`}>{item.name}</Link></b>\n                                {/* ${item.price} */}\n                            </div>\n                            {/* <div className=\"min-30\"><Link to={`/product/${item.product}`}>{item.name}</Link></div> */}\n                           \n                            <div>\n                                Quantity: {item.quantity}\n                                <select value={item.quantity} \n                                    onChange={(e) =>{\n                                        dispatch( \n                                            addToCart(item.product, Number(e.target.value)))\n                                    }}>\n                                    {\n                                        // returning an array from 0 to that number in stock\n                                        [...Array(item.countInStock).keys()].map( (x) =>(\n                                            <option key={x+1} value={ x + 1}>{x + 1}</option>\n                                        ))\n                                    }  \n                             </select>\n                            {/* ${item.price} */}\n                            </div>\n\n                            <div>\n                                ${item.price}\n                            </div>\n                        </div> \n                        </li>)}\n                    </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n         \n            )}       \n        </div>\n        )\n    }\n    return(\n        <div> Could not find the product you requested. </div>       \n             \n    );\n}"]},"metadata":{},"sourceType":"module"}