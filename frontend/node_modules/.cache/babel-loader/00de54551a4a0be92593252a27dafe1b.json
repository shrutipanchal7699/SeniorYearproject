{"ast":null,"code":"var _jsxFileName = \"/Users/param/Desktop/marketplace/final/frontend/src/screens/TransactionScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addToCart, removeFromCart, checkout } from '../actions/cartActions';\nimport MessageBox from '../components/MessageBox';\nimport HomeScreen from './HomeScreen';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TransactionScreen(props) {\n  _s();\n\n  const product_id = props.match.params.id; //returns the quantity of the particular product which is  selected.\n\n  const quantity = props.location.search ? Number(props.location.search.split('=')[1]) : 1; //defining the dispatch.\n\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart); // getting the items from the cart.    \n\n  const {\n    itemsInCart\n  } = cart;\n\n  const removeFromCartHandler = id => {\n    //implement the deletion of the items.\n    dispatch(removeFromCart(id));\n  };\n\n  const checkoutHandler = () => {\n    //unsure about implementation.\n    dispatch(checkout()); // returning back to the HomeScreen.\n\n    props.history.push(`/`);\n  };\n\n  useEffect(() => {\n    if (product_id) {\n      dispatch(addToCart(product_id, quantity));\n    }\n  }, [dispatch, product_id, quantity]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row top\",\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \" Go back to shopping\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 49\n        }, this), \"Transaction in process...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 45\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/thankyou.jpg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"See you soon!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Want to shop again!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TransactionScreen, \"1b/6BcrzFg90k2qO1tRu8krUc0E=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = TransactionScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransactionScreen\");","map":{"version":3,"sources":["/Users/param/Desktop/marketplace/final/frontend/src/screens/TransactionScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","addToCart","removeFromCart","checkout","MessageBox","HomeScreen","TransactionScreen","props","product_id","match","params","id","quantity","location","search","Number","split","dispatch","cart","state","itemsInCart","removeFromCartHandler","checkoutHandler","history","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,EAAoBC,cAApB,EAAoCC,QAApC,QAAoD,wBAApD;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,eAAe,SAASC,iBAAT,CAA2BC,KAA3B,EAAiC;AAAA;;AAC5C,QAAMC,UAAU,GAAGD,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBC,EAAtC,CAD4C,CAG5C;;AACA,QAAMC,QAAQ,GAAGL,KAAK,CAACM,QAAN,CAAeC,MAAf,GAAwBC,MAAM,CAACR,KAAK,CAACM,QAAN,CAAeC,MAAf,CAAsBE,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAD,CAA9B,GAAoE,CAArF,CAJ4C,CAM5C;;AACA,QAAMC,QAAQ,GAAGnB,WAAW,EAA5B;AAEA,QAAMoB,IAAI,GAAGnB,WAAW,CAACoB,KAAK,IAAIA,KAAK,CAACD,IAAhB,CAAxB,CAT4C,CAU5C;;AACA,QAAM;AAACE,IAAAA;AAAD,MAAgBF,IAAtB;;AAEA,QAAMG,qBAAqB,GAAIV,EAAD,IAAO;AACjC;AACAM,IAAAA,QAAQ,CAACf,cAAc,CAACS,EAAD,CAAf,CAAR;AACH,GAHD;;AAKA,QAAMW,eAAe,GAAG,MAAK;AACzB;AACAL,IAAAA,QAAQ,CAACd,QAAQ,EAAT,CAAR,CAFyB,CAIzB;;AACAI,IAAAA,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAoB,GAApB;AACH,GAND;;AAQA3B,EAAAA,SAAS,CAAC,MAAK;AACX,QAAGW,UAAH,EAAc;AACVS,MAAAA,QAAQ,CAAChB,SAAS,CAACO,UAAD,EAAaI,QAAb,CAAV,CAAR;AACH;AACJ,GAJQ,EAIN,CAACK,QAAD,EAAWT,UAAX,EAAuBI,QAAvB,CAJM,CAAT;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA,YADJ,eAGI;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAHJ,eAMI;AAAA;AAAA;AAAA;AAAA,YANJ,eAOI;AAAA,6BAAK,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,YAPJ,eASI;AAAA;AAAA;AAAA;AAAA,YATJ,eAUI;AAAA;AAAA;AAAA;AAAA,YAVJ,eAYI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BAAuB;AAAA;AAAA;AAAA;AAAA,cAAvB,eAAgC;AAAA,gCAAI;AAAA;AAAA;AAAA;AAAA,gBAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhC,eACA;AAAK,QAAA,GAAG,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,cADA,eAIQ;AAAA,gCAAG;AAAA;AAAA;AAAA;AAAA,gBAAH,eAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAZ,eAAgC;AAAA;AAAA;AAAA;AAAA,gBAAhC,eACA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJR;AAAA;AAAA;AAAA;AAAA;AAAA,YAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkEH;;GAlGuBN,iB;UAOHR,W,EAEJC,W;;;KATOO,iB","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addToCart, removeFromCart, checkout } from '../actions/cartActions';\nimport MessageBox from '../components/MessageBox';\nimport HomeScreen from './HomeScreen';\n\nexport default function TransactionScreen(props){\n    const product_id = props.match.params.id;\n\n    //returns the quantity of the particular product which is  selected.\n    const quantity = props.location.search ? Number(props.location.search.split('=')[1]):1;\n        \n    //defining the dispatch.\n    const dispatch = useDispatch();\n\n    const cart = useSelector(state => state.cart);\n    // getting the items from the cart.    \n    const {itemsInCart} = cart;\n\n    const removeFromCartHandler = (id) =>{\n        //implement the deletion of the items.\n        dispatch(removeFromCart(id));\n    };\n\n    const checkoutHandler = () =>{\n        //unsure about implementation.\n        dispatch(checkout())\n\n        // returning back to the HomeScreen.\n        props.history.push(`/`);\n    }\n\n    useEffect(() =>{\n        if(product_id){\n            dispatch(addToCart(product_id, quantity));\n        }\n    }, [dispatch, product_id, quantity]);\n\n    return (\n        <div className=\"row top\">\n            <br>\n            </br>\n            <p>\n                <br></br>\n            </p>\n            <br></br>\n            <div><Link to=\"/\"> Go back to shopping</Link></div>\n            {/* <br></br> */}\n            <p></p>\n            <p></p>\n            {/* <div></div> */}\n            <div className=\"col-2\"><br></br><h1><br></br>Transaction in process...</h1>\n            <img src=\"/images/thankyou.jpg\" ></img>\n            {/* <MessageBox style=\"background-color: white\">                      */}\n                    {/* <div className = \"img-container\" alt=\"\"><img src=\"/images/thanyou.jpg\" ></img></div> */}\n                    <p><br></br><b>See you soon!</b><br></br>\n                    <br></br>\n                    <Link to=\"/\">Want to shop again!</Link>\n                    </p>\n            {/* </MessageBox> */}\n                {/* {itemsInCart.length === 0 ?                                        \n                    <MessageBox style=\"background-color: white\">                     \n                    <div className = \"img-container\" alt=\"\"><img src=\"/images/thanyou.jpg\" ></img></div>\n                    <p> Oopps!<br></br>The cart is currently empty.<br></br>\n                    <br></br>\n                    <Link to=\"/\">Go back to shopping and choose the freshies!</Link>\n                    </p>\n                    </MessageBox>                    \n                    :(\n                    <ul>\n                        {itemsInCart.map((item) => \n                        <li key = {item.product}> \n                        <div className=\"row\">\n                            <div>\n                                <img src={item.image} alt = {item.name} className=\"small\"></img>\n                            </div>\n                            <div className=\"min-30\"><Link to={`/product/${item.product}`}>{item.name}</Link></div>\n                            <div><select value={item.quantity} \n                            onChange={(e) =>{\n                                dispatch( \n                                    addToCart(item.product, Number(e.target.value)))\n                            }}>\n                              {\n                                // returning an array from 0 to that number in stock\n                                [...Array(item.countInStock).keys()].map( (x) =>(\n                                    <option key={x+1} value={ x + 1}>{x + 1}</option>\n                                ))\n                              }  \n                            </select>\n                            </div>\n                            <div>\n                                ${item.price}\n                            </div>\n                            <div>\n                                <button type=\"button\" onClick = {() => removeFromCartHandler(item.product)}>Delete Items</button>\n                            </div>\n                        </div> \n                        </li>)}\n                    </ul>\n                )} */}\n            </div>\n            \n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}